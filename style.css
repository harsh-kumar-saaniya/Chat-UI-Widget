:root{
  --bg:#ffffff; --text:#111827; --primary:#2563eb; --muted:#6b7280; --bubble:#e5e7eb;
}

/* Dark theme variables */
[data-theme="dark"]{
  --bg:#0b1220; --text:#e6eef8; --primary:#3b82f6; --muted:#9aa7bd; --bubble:#1f2937;
}

*{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
body{margin:0;background:transparent;color:var(--text);}

/* Chat bubble (floating) */
#chat-bubble{
  position:fixed; right:24px; bottom:24px;
  width:64px; height:64px; border-radius:50%;
  background:var(--primary); color:white; font-size:26px;
  display:flex; align-items:center; justify-content:center; cursor:pointer;
  box-shadow:0 10px 30px rgba(16,24,40,0.3); border:none;
}

/* Chat window */
#chat-window{
  position:fixed; right:24px; bottom:100px;
  width:360px; max-width:calc(100% - 48px); height:520px;
  display:flex; flex-direction:column; border-radius:12px;
  overflow:hidden; background:var(--bg); box-shadow:0 20px 40px rgba(2,6,23,0.35);
  transform:translateY(10px); transition:transform .18s ease, opacity .18s ease;
  display:none;
}

/* Header */
#chat-header{
  padding:12px 14px; display:flex; align-items:center; justify-content:space-between;
  border-bottom:1px solid rgba(0,0,0,0.06); background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
}
.title{display:flex; gap:10px; align-items:center;}
#assistant-avatar{width:40px; height:40px; border-radius:8px; object-fit:cover; border:2px solid rgba(0,0,0,0.04);}
.name{font-weight:700; font-size:15px; color:var(--text);}
.subtitle{font-size:12px; color:var(--muted); margin-top:2px;}

.controls{display:flex; gap:8px; align-items:center;}
.controls button{border:none;background:transparent; cursor:pointer; font-size:18px; color:var(--muted);}

/* Body (messages) */
#chat-body{flex:1; padding:12px; overflow:auto; display:flex; flex-direction:column; gap:8px;}
.bot-message, .user-message{
  padding:10px 12px; border-radius:10px; max-width:80%; word-wrap:break-word; line-height:1.35;
}
.bot-message{background:var(--bubble); color:var(--text); align-self:flex-start;}
.user-message{background:var(--primary); color:white; align-self:flex-end;}

/* Footer Input */
#chat-footer{display:flex; gap:8px; padding:10px; border-top:1px solid rgba(0,0,0,0.06);}
#chat-input{flex:1; padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); outline:none; background:transparent; color:var(--text);}
#send-btn{min-width:48px; padding:10px 12px; border-radius:8px; background:var(--primary); color:white; border:none; cursor:pointer; font-size:16px;}

/* Typing indicator (three dots) */
#typing-indicator{
  position:absolute; right:40px; bottom:82px; display:none; align-items:center; gap:6px;
}
#typing-indicator span{display:inline-block; width:8px; height:8px; border-radius:50%; background:var(--muted); opacity:0.35; transform:translateY(0);}
#typing-indicator span:nth-child(1){animation:dot 1s infinite .1s;}
#typing-indicator span:nth-child(2){animation:dot 1s infinite .2s;}
#typing-indicator span:nth-child(3){animation:dot 1s infinite .3s;}
@keyframes dot{50%{transform:translateY(-6px); opacity:1;} 100%{opacity:0.35; transform:translateY(0);}}

/* small screens */
@media (max-width:420px){
  #chat-window{right:12px; left:12px; width:auto; bottom:80px;}
  #typing-indicator{right:60px;}
}

/* simple fade-in class */
.show{display:flex; opacity:1; transform:translateY(0);}
